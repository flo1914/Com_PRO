function flash(pl,sn,s1,s2,s3,s4,s5,gr,sCB,pCB){this.player=pl;this.embed=pl.getElementsByTagName("embed")[0]||null;this.stream=streamInit(sn,s1,s2,s3,s4,s5,gr);this.streamOld=new estat_Object();this.stateCallback=sCB||"";this.positionCallback=pCB||"";this.playStates=new estat_Object();this.playStates["NetStream.Play.Stop"]=12;this.playStates["NetStream.Play.Start"]=4;this.playStates["NetStream.Play.Failed"]=14;this.playStates["NetStream.Play.StreamNotFound"]=14;this.playStates["NetStream.Play.Pause"]=7;this.playStates["NetStream.Play.Resume"]=5;this.playStates["NetStream.Play.Close"]=14;this.playStates["NetStream.Unpause.Notify"]=5;this.playStates["NetStream.Pause.Notify"]=7;this.playStates["NetStream.Buffer.Empty"]=2;this.playStates["NetStream.Buffer.Full"]=5;this.playStates["NetStream.Buffer.Flush"]=17;this.playStates["NetStream.Seek.Notify"]=6;this.playStates["NetStream.Seek.InvalidTime"]=0;this.playStates["buffering"]=2;this.playStates["connectionError"]=0;this.playStates["disconnected"]=0;this.playStates["loading"]=16;this.playStates["playing"]=5;this.playStates["paused"]=7;this.playStates["rewinding"]=10;this.playStates["seeking"]=6;this.playStates["stopped"]=12;this.playStates["actionscript"]=6;this.playStates["navigation"]=6;this.playStates["event"]=6;this.playStates["flv"]=6;this.stream['cmsSN']=(Ms.isStringValid(sn)==1)?sn:"";this.stream['cmsS1']=(Ms.isStringValid(s1)==1)?s1:"";this.stream['cmsS2']=(Ms.isStringValid(s2)==1)?s2:"";this.stream['cmsS3']=(Ms.isStringValid(s3)==1)?s3:"";this.stream['cmsS4']=(Ms.isStringValid(s4)==1)?s4:"";this.stream['cmsS5']=(Ms.isStringValid(s5)==1)?s5:"";this.stream['cmsGR']=(Ms.isStringValid(gr)==1)?gr:"";this.initialize=function(){this.stream['cmsPL']='flash';if(this.embed==null){this.stream['cmsOE']='Object';}else{this.stream['cmsOE']='Embed';}};this.update=function(status,position,versionNumber,media,duration,event,name,sect1,sect2,sect3,sect4,sect5,genre,new_vid,sound){eStat_er.reset();this.stream['cmsOP']=this.stream['cmsPO'];this.stream['cmsPO']=position;if(new_vid=="true"){this.stream=streamInit((Ms.isStringValid(name)==1)?name:this.stream['cmsSN'],(Ms.isStringValid(sect1)==1)?sect1:this.stream['cmsS1'],(Ms.isStringValid(sect2)==1)?sect2:this.stream['cmsS2'],(Ms.isStringValid(sect3)==1)?sect3:this.stream['cmsS3'],(Ms.isStringValid(sect4)==1)?sect4:this.stream['cmsS4'],(Ms.isStringValid(sect5)==1)?sect5:this.stream['cmsS5'],(Ms.isStringValid(genre)==1)?genre:this.stream['cmsGR']);this.initialize();}this.stream['cmsSD']=sound?Math.round(sound*100):"-";this.stream['cmsST']=status;this.stream['cmsPS']=this.eStatPlayState(status);this.stream['cmsPV']=encodeURIComponent(versionNumber);this.stream['cmsME']=encodeURIComponent(media);this.stream['cmsDU']=duration;this.stream['cmsEV']=event;this.stream['cmsSN']=(Ms.isStringValid(name)==1)?name:this.stream['cmsSN'];this.stream['cmsS1']=(Ms.isStringValid(sect1)==1)?sect1:this.stream['cmsS1'];this.stream['cmsS2']=(Ms.isStringValid(sect2)==1)?sect2:this.stream['cmsS2'];this.stream['cmsS3']=(Ms.isStringValid(sect3)==1)?sect3:this.stream['cmsS3'];this.stream['cmsS4']=(Ms.isStringValid(sect4)==1)?sect4:this.stream['cmsS4'];this.stream['cmsS5']=(Ms.isStringValid(sect5)==1)?sect5:this.stream['cmsS5'];this.stream['cmsGR']=(Ms.isStringValid(genre)==1)?genre:this.stream['cmsGR'];go(this.player);};this.eStatPlayState=function(state){if(isNaN(state)){return this.playStates[state];}return state;};};