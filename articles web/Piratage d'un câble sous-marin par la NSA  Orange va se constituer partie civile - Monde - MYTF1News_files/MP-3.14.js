function MP(pl,sn,s1,s2,s3,s4,s5,gr,sCB,pCB){this.player=pl;this.embed=pl.getElementsByTagName("embed")[0]||null;this.stream=streamInit(sn,s1,s2,s3,s4,s5,gr);this.streamOld=new estat_Object();this.stateCallback=sCB||"";this.positionCallback=pCB||"";this.playStates=new estat_Object();this.playStates[0]=0;this.playStates[1]=12;this.playStates[2]=7;this.playStates[3]=5;this.playStates[4]=9;this.playStates[5]=8;this.playStates[6]=2;this.playStates[7]=1;this.playStates[8]=13;this.playStates[9]=16;this.playStates[10]=3;this.playStates[11]=15;this.playStates[12]=4;this.eStatPlayState=function(state){return this.playStates[state];};this.initialize=function(){this.stream['cmsPL']='MP';eStat_ms.playerChange(this.player,"polling",null,null);window.setTimeout(function(){eStat_ms.playerChange(pl,"polling",null,null);},10*1000);window.setTimeout(function(){eStat_ms.playerChange(pl,"polling",null,null);},20*1000);window.setTimeout(function(){eStat_ms.playerChange(pl,"polling",null,null);},40*1000);window.setInterval(function(){eStat_ms.playerChange(pl,"polling",null,null);},60*1000);window.setInterval(function(){eStat_ms.playerChange(pl,"state",null,null);},5*1000);};this.update=function(){eStat_er.reset();this.stream['cmsOS']=this.stream['cmsPS'];this.stream['cmsOP']=this.stream['cmsPO'];try{this.stream['cmsST']=this.player.playState;this.stream['cmsPO']=this.player.getTime();this.stream['cmsPS']=this.eStatPlayState(this.player.playState);this.stream['cmsME']=this.player.filename;this.stream['cmsDU']=this.player.getDuration();this.stream['cmsOE']="Object";}catch(e){try{this.stream['cmsST']=this.embed.playState;this.stream['cmsPO']=this.embed.getTime();this.stream['cmsPS']=this.eStatPlayState(this.embed.playState);this.stream['cmsME']=this.embed.filename;this.stream['cmsDU']=this.embed.getDuration();this.stream['cmsOE']="Embed";}catch(e){this.stream['cmsPO']=0;}}};};MP.Detect=function(pl){try{pl.getPercent();}catch(e){try{pl.getElementsByTagName("embed")[0].getPercent();}catch(e){throw"NoMP";}}};