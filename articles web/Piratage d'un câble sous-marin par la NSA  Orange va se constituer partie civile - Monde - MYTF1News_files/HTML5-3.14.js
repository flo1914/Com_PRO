function HTML5(pl,sn,s1,s2,s3,s4,s5,gr,sCB,pCB){this.player=pl;this.embed=pl.getElementsByTagName("embed")[0]||null;this.stream=streamInit(sn,s1,s2,s3,s4,s5,gr);this.streamOld=new estat_Object();this.stateCallback=sCB||"";this.positionCallback=pCB||"";this.playStates=new estat_Object();this.playStates['canplay']=3;this.playStates['play']=5;this.playStates['pause']=7;this.playStates['ended']=12;this.playStates['error']=0;this.playStates['empty']=0;this.playStates['seeking']=6;this.eStatPlayState=function(state){return this.playStates[state];};this.initialize=function(){this.stream['cmsPL']='HTML5';window.setTimeout(function(){eStat_ms.playerChange(pl,"polling",null,null);},10*1000);window.setTimeout(function(){eStat_ms.playerChange(pl,"polling",null,null);},20*1000);window.setTimeout(function(){eStat_ms.playerChange(pl,"polling",null,null);},40*1000);window.setInterval(function(){eStat_ms.playerChange(pl,"polling",null,null);},60*1000);this.player.addEventListener("canplay",function(){pl.Obj.setStatus("canplay");},true);this.player.addEventListener("play",function(){pl.Obj.setStatus("play");},true);this.player.addEventListener("ended",function(){pl.Obj.setStatus("ended");},true);this.player.addEventListener("pause",function(){pl.Obj.setStatus("pause");},true);this.player.addEventListener("seeking",function(){pl.Obj.setStatus("seeking");},true);this.player.addEventListener("error",function(){pl.Obj.setStatus("error");},true);this.player.addEventListener("empty",function(){pl.Obj.setStatus("empty");},true);};this.setStatus=function(status){this.stream['cmsOS']=this.stream['cmsPS'];this.stream['cmsPS']=this.eStatPlayState(status);this.stream['cmsST']=status;eStat_ms.playerChange(this.player,"state",null,null);};this.update=function(status){eStat_er.reset();this.stream['cmsOE']=this.player.tagName;if(this.player.muted){this.stream['cmsSD']=0;}else{this.stream['cmsSD']=Math.round((this.player.volume)*100);}this.stream['cmsME']=this.player.src!=""?this.player.src:this.player.currentSrc;this.stream['cmsOP']=this.stream['cmsPO'];this.stream['cmsPO']=this.player.currentTime;this.stream['cmsDU']=this.player.duration;};};HTML5.Detect=function(pl){try{pl.readyState;}catch(e){throw"NoHTML5";}};