var pl_Obj=null;function Ms(){var ms="ms:";this.trys=0;this.jsloaded=new estat_Object();this.nbWMplayers=0;this.tabWMplayers=new estat_Object();this.user_cb_OnDSPlayStateChangeEvt=null;this.nbYTplayers=0;this.tabYTplayers=new estat_Object();Ms.isStringValid=function(str){if(typeof(str)!='string')return(0);if(str=='')return(0);if(str=='null')return(0);if(str=='undefined')return(0);return(1);};this.newStream=function(pl,sn,s1,s2,s3,s4,s5,gr){if(((typeof(pl)=="function")||(typeof(pl)=="object"))&&typeof(pl.Obj)=="object"&&pl.Obj=="[object Object]"&&pl.Obj.stream=="[object Object]"){if(!(Ms.isStringValid(sn))&&!(Ms.isStringValid(s1))&&!(Ms.isStringValid(s2))&&!(Ms.isStringValid(s3))&&!(Ms.isStringValid(s4))&&!(Ms.isStringValid(s5))&&!(Ms.isStringValid(gr)))throw"eStat:Pas de niveaux specifies pour le nouveau flux"; else pl.Obj.stream=streamInit(sn,s1,s2,s3,s4,s5,gr);}else throw "eStat:1er argument n'est pas un objet";};this.reference=function(pl,st,sn,s1,s2,s3,s4,s5,gr,sCb,pCb){if((pl==null)||(typeof(pl)=="undefined"))return;if(typeof(pl.Obj)!="undefined")return;if(!(Ms.isStringValid(sn))&&!(Ms.isStringValid(s1))&&!(Ms.isStringValid(s2))&&!(Ms.isStringValid(s3))&&!(Ms.isStringValid(s4))&&!(Ms.isStringValid(s5))&&!(Ms.isStringValid(gr)))return;try{var obj_check=null;switch(detectPlayer(pl)?detectPlayer(pl):st){case 'WM':obj_check=WM;break;case 'QT':case 'QTNA':obj_check=QT;break;case 'RM':obj_check=RM;break;case 'flash':obj_check=flash;break;case 'MP':obj_check=MP;break;case 'VLC':obj_check=VLC;break;case 'HTML5':obj_check=HTML5;break;case 'YT':obj_check=YT;break;default:throw 'Detection failed';}}catch(e){(function(msobj,pl,st,sn,s1,s2,s3,s4,s5,gr,sCb,pCb){window.setTimeout(function(){msobj.trys++;if(msobj.trys<10){msobj.reference(pl,st,sn,s1,s2,s3,s4,s5,gr,sCb,pCb);}},500);})(this,pl,st,sn,s1,s2,s3,s4,s5,gr,sCb,pCb);return;}switch(detectPlayer(pl)?detectPlayer(pl):st){case'WM': var newObj=new WM(pl,sn,s1,s2,s3,s4,s5,gr,sCb,pCb);newObj.initialize();try{pl.Obj=newObj;}catch(e){pl_Obj=newObj;}this.tabWMplayers[this.nbWMplayers++]=pl;break;case 'QT':case 'QTNA':pl.Obj=new QT(pl,sn,s1,s2,s3,s4,s5,gr,null,null);pl.Obj.initialize();break;case 'RM':pl.Obj=new RM(pl,sn,s1,s2,s3,s4,s5,gr,sCb,pCb);pl.Obj.initialize();break;case 'flash':pl.Obj=new flash(pl,sn,s1,s2,s3,s4,s5,gr,null,null);pl.Obj.initialize();break;case 'MP':pl.Obj=new MP(pl,sn,s1,s2,s3,s4,s5,gr,null,null);pl.Obj.initialize();break;case 'VLC':pl.Obj=new VLC(pl,sn,s1,s2,s3,s4,s5,gr,null,null);pl.Obj.initialize();break;case 'HTML5':pl.Obj=new HTML5(pl,sn,s1,s2,s3,s4,s5,gr,null,null);pl.Obj.initialize();break;case 'YT':pl.Obj=new YT(pl,sn,s1,s2,s3,s4,s5,gr,null,null);pl.Obj.initialize();this.tabYTplayers[this.nbYTplayers]=pl;eStat_YoutubeOnStateChange(this.nbYTplayers);this.nbYTplayers++;break;default:throw 'Detection failed';break;}};this.playerChange=function(pl,op,oldOp,newOp){var pObj=(typeof(pl.Obj)!="undefined")?pl.Obj:pl_Obj;if((pObj==null)||(typeof(pObj)=="undefined"))return;pObj.stream['cmsEV']=op;pObj.update();if((op=="state")&&(pObj.stream['cmsOS']==pObj.stream['cmsPS']))return;else go(pl);};function detectPlayer(pl){try{RM.Detect(pl);return "RM";}catch(e){try{WM.Detect(pl);return "WM";}catch(e){try{QT.Detect(pl);return "QT";}catch(e){try{MP.Detect(pl);return "MP";}catch(e){try{VLC.Detect(pl);return "VLC";}catch(e){try{HTML5.Detect(pl);return "HTML5";}catch(e){try{YT.Detect(pl);return "YT";}catch(e){return null;}}}}}}}};function go(pl){var pObj=(typeof(pl.Obj)!="undefined")?pl.Obj:pl_Obj;if((pObj==null)||(typeof(pObj)=="undefined"))return;var cm_arg="";if(typeof(CM_TF1_CS)=='string'||typeof(CM_TF1_CS2)=='string'){cm_arg="http://prof.estat.com/m/web/"+CM_CLIENT+"?n="+Math.round(Math.random()*1000000000);if(typeof(CM_RUBRIQUE)=='string'){cm_arg+="&p="+escape(CM_RUBRIQUE);}if(typeof(CM_TF1_CS)=='string'){cm_arg+="&cs="+escape(CM_TF1_CS);}if(typeof(CM_TF1_CS2)=='string'){cm_arg+="&cs2="+escape(CM_TF1_CS2);}var _R=escape(window.document.referrer);if(_R=="undefined"||_R==""){_R="_bm_";}cm_arg+="&r="+_R;if(typeof(screen)=="object"){cm_arg+="&scw="+screen.width+"&sch="+screen.height+"&scp="+screen.colorDepth;}cm_arg+=eStat_seg.get();}else cm_arg+=eStat_tag.post("cmspoll");if(typeof(pl)!="undefined"){var cm_a1=pObj.stream;var cm_a2=pObj.streamOld;if(cm_a1['cmsME']&&cm_a1['cmsME'].length>1024){cm_a1['cmsME']=cm_a1['cmsME'].substring(0,1024);eStat_er.W(ms+"URLLong",1);}if(isEqual(cm_a1,cm_a2))return false;else{cm_a1['cmsRK']++;for(var _cmArg in cm_a1)cm_arg+='&'+_cmArg+'='+cm_a1[_cmArg];copy(cm_a2,cm_a1);}}cm_i=new Image(1,1);cm_i.src=cm_arg;imgLoadChk(cm_i,10);};copy=function(playerDst,playerSrc){for(var _cmArg in playerSrc)playerDst[_cmArg]=playerSrc[_cmArg];};function isEqual(playerObj1,playerObj2){if(playerObj1.length!=playerObj2.length)return false;for(var _cmArg in playerObj1){if(_cmArg!='cmsRK'&&playerObj1[_cmArg]!=playerObj2[_cmArg]){return false;}}return true;};function getUniqVId(){var n=new Date();return n.getTime()%86400000+'-'+Math.floor(Math.random()*10000);};function setParams(d,a2,a3,a4,a5,a6,a7,a8){var lbl=['cmsSN','cmsS1','cmsS2','cmsS3','cmsS4','cmsS5','cmsGR'];chkarg=function(str,arg){var len=256;if(typeof(arg)=='string'){d[str]=escape(arg);if(d[str].length>len){eStat_er.W(ms+"NomLong",1);d[str]=d[str].substring(0,len);}}else eStat_er.W(ms+"MauvaisArg",1);};for(var i=1;i<arguments.length;i++)chkarg(lbl[i-1],arguments[i]);return d;};streamInit=function(sn,s1,s2,s3,s4,s5,gr){var data=new estat_Object();data['cmsVI']=getUniqVId();data['cmsRK']=0;data['cmsOS']='';data['cmsNS']='';data['cmsST']='';data['cmsPO']='';data['cmsOP']='';data['cmsPS']='';data['cmsPV']='';data['cmsMV']=eStat_version;data['cmsME']='';data['cmsDU']='';data['cmsTS']='';data['cmsAC']='';data['cmsPL']='';data['cmsOE']='';data['cmsEV']='';if(Ms.isStringValid(sn))return setParams(data,sn,s1,s2,s3,s4,s5,gr);else return  data;};String.prototype.trim=function(){return this.replace(/(?:^\s+|\s+$)/g,"");};this.loadPlayers=function(s){var allType=["WM","flash","RM","QT","MP","VLC","HTML5","YT"];var data=new estat_Object();chktype=function(type){var i=allType.length;do{if(allType[i]===type)return true;}while(i--);return false;};s?data=s.split(","):data=allType;var er="";for(var i=0;i<data.length;i++){var jstoload=data[i].trim();if(chktype(jstoload)){eStat_loadjs("http://"+eStat_prof+"/js/players-"+eStat_version+"/"+jstoload+"-"+eStat_version+".js");(Array(this.jsloaded).push)(jstoload);}else er+=jstoload;}if(er!="")eStat_er.E(ms+"ChargementEchoue:"+er,3);};};var eStat_ms=new Ms;_cmsJS=1;(typeof(_stmType)=='string')?eStat_ms.loadPlayers(_stmType):eStat_ms.loadPlayers(null);function eStat_Flash(player,status,position,versionNumber,media,duration,event,name,sect1,sect2,sect3,sect4,sect5,genre,new_vid,sound){var pobj=null;if(typeof(player)!='string'){pobj=player;}else{pobj=(document.getElementById(player));}if(typeof(sound)=="undefined"){if(typeof(sect5)=="undefined"){sound=sect4;new_vid=sect3;sect3="";}else{sound=sect5;new_vid=sect4;}sect4="";sect5="";genre="";}try{if(typeof(pobj.Obj)=="undefined")eStat_ms.reference(pobj,"flash",name,sect1,sect2,sect3,sect4,sect5,genre,null,null);}catch(e){;}try{pobj.Obj.update(status,position,versionNumber,media,duration,event,name,sect1,sect2,sect3,sect4,sect5,genre,new_vid,sound);}catch(e){if(typeof(player)=='string')return false;}if(typeof(player)=='string')return true;};